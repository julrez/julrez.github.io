import{S as O,i as U,s as X,k as E,q as B,a as P,l as M,m as D,r as C,h as u,c as S,n as o,b as N,G as h,u as Y,B as R,K as Z,N as A,P as J,J as W,L as $}from"../../../chunks/index-2fe6b57e.js";function j(f,l,s){const v=f.slice();return v[11]=l[s],v[13]=s,v}function z(f){let l,s,v,b,t,w,y,r,_;function I(){return f[3](f[11])}function g(){return f[4](f[11])}return{c(){l=E("div"),s=E("img"),b=P(),t=E("img"),y=P(),this.h()},l(p){l=M(p,"DIV",{class:!0});var m=D(l);s=M(m,"IMG",{class:!0,src:!0,alt:!0}),b=S(m),t=M(m,"IMG",{class:!0,src:!0,alt:!0}),y=S(m),m.forEach(u),this.h()},h(){o(s,"class","front svelte-1kxkfnl"),A(s.src,v=f[11].img)||o(s,"src",v),o(s,"alt",""),o(t,"class","back svelte-1kxkfnl"),A(t.src,w="front.webp")||o(t,"src",w),o(t,"alt",""),o(l,"class","card svelte-1kxkfnl"),J(l,"flipped",f[11].flipped)},m(p,m){N(p,l,m),h(l,s),h(l,b),h(l,t),h(l,y),r||(_=[W(l,"click",I),W(l,"keypress",g)],r=!0)},p(p,m){f=p,m&2&&!A(s.src,v=f[11].img)&&o(s,"src",v),m&2&&J(l,"flipped",f[11].flipped)},d(p){p&&u(l),r=!1,$(_)}}}function ee(f){let l,s,v,b,t,w,y,r,_,I,g,p,m,i,a,c,x,T=f[1],d=[];for(let e=0;e<T.length;e+=1)d[e]=z(j(f,T,e));return{c(){l=E("head"),s=E("title"),v=B("Memory thing"),b=P(),t=E("h1"),w=B("Memory"),y=P(),r=E("div"),_=E("div"),I=P(),g=E("main"),p=E("div");for(let e=0;e<d.length;e+=1)d[e].c();m=P(),i=E("div"),a=E("p"),c=B("Score: "),x=B(f[0]),this.h()},l(e){l=M(e,"HEAD",{});var k=D(l);s=M(k,"TITLE",{});var n=D(s);v=C(n,"Memory thing"),n.forEach(u),k.forEach(u),b=S(e),t=M(e,"H1",{class:!0});var q=D(t);w=C(q,"Memory"),q.forEach(u),y=S(e),r=M(e,"DIV",{id:!0,class:!0});var V=D(r);_=M(V,"DIV",{id:!0,class:!0});var F=D(_);F.forEach(u),I=S(V),g=M(V,"MAIN",{class:!0});var H=D(g);p=M(H,"DIV",{class:!0});var L=D(p);for(let K=0;K<d.length;K+=1)d[K].l(L);L.forEach(u),H.forEach(u),m=S(V),i=M(V,"DIV",{id:!0,class:!0});var Q=D(i);a=M(Q,"P",{class:!0});var G=D(a);c=C(G,"Score: "),x=C(G,f[0]),G.forEach(u),Q.forEach(u),V.forEach(u),this.h()},h(){o(t,"class","svelte-1kxkfnl"),o(_,"id","paddingDiv"),o(_,"class","svelte-1kxkfnl"),o(p,"class","row svelte-1kxkfnl"),o(g,"class","svelte-1kxkfnl"),o(a,"class","svelte-1kxkfnl"),o(i,"id","scoreDiv"),o(i,"class","svelte-1kxkfnl"),o(r,"id","mainDiv"),o(r,"class","svelte-1kxkfnl")},m(e,k){N(e,l,k),h(l,s),h(s,v),N(e,b,k),N(e,t,k),h(t,w),N(e,y,k),N(e,r,k),h(r,_),h(r,I),h(r,g),h(g,p);for(let n=0;n<d.length;n+=1)d[n].m(p,null);h(r,m),h(r,i),h(i,a),h(a,c),h(a,x)},p(e,[k]){if(k&6){T=e[1];let n;for(n=0;n<T.length;n+=1){const q=j(e,T,n);d[n]?d[n].p(q,k):(d[n]=z(q),d[n].c(),d[n].m(p,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=T.length}k&1&&Y(x,e[0])},i:R,o:R,d(e){e&&u(l),e&&u(b),e&&u(t),e&&u(y),e&&u(r),Z(d,e)}}}function te(f,l,s){let v=0,b=["pieceset/bB.svg","pieceset/bQ.svg","pieceset/bK.svg","pieceset/bN.svg","pieceset/bP.svg","pieceset/bR.svg","pieceset/wB.svg","pieceset/wQ.svg","pieceset/wK.svg","pieceset/wN.svg","pieceset/wP.svg","pieceset/wR.svg"],t=[];function w(i,a){let c=Math.floor(Math.random()*a.length),x=a[c];s(1,t[x]={id:i,img:b[i],flipped:!1,completed:!1},t),a.splice(c,1)}function y(){s(1,t=[]);let i=[];for(let a=0;a<16;a++)t.push(-1),i.push(a);for(let a=0;a<8;a++){let c=Math.floor(Math.random()*b.length);w(c,i),w(c,i)}}y();let r=0,_=-1,I=!1;function g(i){if(I)return;!i.flipped&&r<2&&(i.flipped=!0,r+=1,r==2&&(_&&_.id==i.id?(r=0,i.completed=!0,_.completed=!0):(I=!0,setTimeout(()=>{t.forEach(c=>{c.flipped=c.completed}),s(1,t),I=!1},1e3)),r=0),_=i,s(1,t));let a=0;for(let c=0;c<16;c++)t[c].completed&&(a+=1);a==16&&(s(0,v+=1),r=0,_=-1,I=!0,setTimeout(()=>{t.forEach(c=>{c.completed=!1,c.flipped=!1}),s(1,t)},1e3),setTimeout(()=>{y(),I=!1},2e3))}return[v,t,g,i=>{g(i)},i=>{g(i)}]}class se extends O{constructor(l){super(),U(this,l,te,ee,X,{})}}export{se as default};
